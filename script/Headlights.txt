:Headlights
thread 'HLIGHT'

:HeadlightsStart
wait 10
if
   Player.Defined($PLAYER_CHAR)
else_jump @HeadlightsStart
1@ = 0 // Off
if
     00E0:   player $PLAYER_CHAR in_any_car
else_jump @HeadlightsShow
03C1: 0@ = player $PLAYER_CHAR car
if or
    $CTIME1 >= 2020 // integer values
    $CTIME1 < 650 // integer values
    $WEATHER == 2 // integer values
    $WEATHER == 3 // integer values
    $WEATHER == 5 // integer values
    $WEATHER == 9 // integer values
    $WEATHER == 10 // integer values
else_jump @HeadlightsShow
1@ = 1 // On

:HeadlightsShow
if
    not Car.Wrecked(0@)
else_jump @HeadlightsStart
3F10: set_car 0@ component "lightFL" visible 1@
3F10: set_car 0@ component "lightFR" visible 1@
3F10: set_car 0@ component "turnlightrf" visible 1@
3F10: set_car 0@ component "turnlightlf" visible 1@
jump @HeadlightsStart