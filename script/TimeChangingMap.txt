:DateCheckStart
wait 0
3FFF: remove_build "55lyon" amnt 4
3FFF: remove_build "farm" amnt 17
3FFF: remove_build "1985" amnt 7
3FFF: remove_build "2015" amnt 7
3FFF: remove_build "85mall" amnt 90

:DateCheck
if
   $CYEAR < 1980
then
3FFE: add_build "55lyon" amnt 4
3FFE: add_build "farm" amnt 17
   jump @WaitToLeave1955
else if
   $CYEAR >= 2010
then
   3FFE: add_build "2015" amnt 7
   jump @WaitToLeave2015
else
   3FFE: add_build "1985" amnt 7
   3FFE: add_build "85mall" amnt 90
   create_thread @canopener
   jump @WaitToLeave1985
end
end

:WaitToLeave1955
wait 0
if
  $CYEAR >= 1980 // We traveled to the present/future
jf @WaitToLeave1955
3FFF: remove_build "55lyon" amnt 4
3FFF: remove_build "farm" amnt 17
jump @DateCheck

:WaitToLeave1985
wait 0
if or
  $CYEAR < 1980 // We traveled back to the past
  $CYEAR >= 2010 // We traveled to the future
jf @WaitToLeave1985
3FFF: remove_build "1985" amnt 7
3FFF: remove_build "85mall" amnt 90
end_thread_named 'canopn'
0108: destroy_object $dogfoodbase
0108: destroy_object $dogfoodarm
0108: destroy_object $dogfoodclaw
0108: destroy_object $dogfoodcan
0108: destroy_object $dogfoodcan1
0108: destroy_object $dogfoodcan2
0108: destroy_object $garagetoast1
0108: destroy_object $garagetoast2
0108: destroy_object $timerpart1
0108: destroy_object $timerpart3
0108: destroy_object $timerpart2
0108: destroy_object $garageclockswitch
0108: destroy_object $garagelightswitch
0108: destroy_object $dogfoodpile
0108: destroy_object $dogemptycan
0108: destroy_object $dogfoodfull
0108: destroy_object $dogfoodspin
0215: destroy_pickup $docscamera
jump @DateCheck

:WaitToLeave2015
wait 0
if
  $CYEAR < 2010 // We traveled to the past/present
jf @WaitToLeave2015
3FFF: remove_build "2015" amnt 7
jump @DateCheck
